<!DOCTYPE html>
<html lang="en-GB">
    <head>
        <title>Trafford Data Lab: Data</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
        <meta charset="UTF-8"/>
        <meta name="keywords" content="trafford data lab, trafford, data, lab, open data, open, 3 star, csv, json, geojson"/>
        <meta name="description" content="The Trafford Data Lab are proactively gathering and publishing data owned by Trafford Council and its partners. The data (and metadata) can be found in our open_data repo on GitHub. We publish our data as 3 star open data as a minimum and provide it in CSV, JSON and GeoJSON formats as appropriate."/>

        <link rel="stylesheet" href="css/labBase.css"/>
        <link rel="stylesheet" href="css/labWebsite.css"/>
        <link rel="stylesheet" href=" https://fonts.googleapis.com/css?family=Open+Sans%7CRoboto"/>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">

        <style>
        thead
        {
            display: none;
        }

        .card
        {
          width: 20%;
          height: 230px;
          margin: 1em 2.2%;
          display: inline-block;
          background-color: #F8F8F8;
          border: 1px solid #cccccc;
          border-radius: 3px;
        }

        input[type="checkbox"]
        {
          display: none;
        }

        input[type="checkbox"]:checked + label + div
        {
          display: block;
        }

        .cardHead
        {
          display:block;
          background-color: #fc6721;
          color: #F8F8F8;
          height: 40px;
          line-height: 40px;
          padding: 0em 1em;
          border-radius: 2px 2px 0px 0px;
          cursor: pointer;
        }

        .cardHead:hover
        {
          text-decoration: underline;
        }

        .cardBody
        {
          font-size: 0.8em;
          height: 125px;
          overflow-y: auto;
          padding: 0em 1em;
        }

        .cardFooter
        {
          padding: 0em 1em;
        }

        .datasetInfo
        {
          max-width: 100%;
          position: fixed;
          top: 60px;
          left: 35px;
          right:35px;
          bottom:10px;
          background-color: white;
          display: none;
          overflow-y: auto;
          padding: 0 30px 0 12px;
          box-shadow: 0px 0px 3px 3px #757575;
          z-index: 3;
        }

        .datasetInfo > div
        {
          width: 50%;
          float: left;
        }

        .closeButton
        {
          position: fixed;
          top: 60px;
          right: 35px;
          width: 25px;
          height: 25px;
          font-size: 25px;
          line-height: 25px;
          color: #757575;
          text-align: center;
          cursor: pointer;
        }

        .closeButton:hover
        {
          color: #fc6721;
        }

        .tableFrame
        {
          padding: 2em 0;
        }

        .tableFrame table
        {
          table-layout: fixed;
          word-wrap: break-word;
          padding: 0em 1em 2em 0em;
          width: 98%;
        }

        .tableFrame  table td:nth-child(1)
        {
          font-weight: bold;
          -webkit-font-smoothing: antialiased;
          font-size: 0.8em;
          border-bottom: 1px solid #757575;
          width: 30%;
          vertical-align: top;
        }

        .tableFrame table td:nth-child(2)
        {
          border-bottom: 1px solid #757575;
          font-size: 0.9em;
        }

        .labButton
        {
          white-space: nowrap;
          display: inline;
        }

        .prevGeoJson
        {
          padding: 2em 0;
        }

        .prevGeoJson img
        {
          width: 98%;
        }

        .scriptGithub iframe
        {
          width: 98%;
          height: 400px;
        }

        .tablePreview
        {
          display: inline-block;
          overflow-x: auto;
          width: 97.5%;
          border-radius: 2px;
        }

        .tablePreview table
        {
          font-size: 0.8em;
          text-align: left;
          background-color: #f7f7f7;
          white-space: nowrap;
        }

        .tablePreview table td,
        .tablePreview table th
        {
          padding-left: 1em;
        }

        @media (max-width:1300px)
        {
          .card
          {
            width: 28%;
            margin: 1em 2.2%;
          }
        }

        @media (max-width:850px)
        {
          .datasetInfo>div
          {
            width: 100%;
          }

          .card
          {
            width: 40%;
            margin: 1em 4.5%;
          }

          .tableFrame table
          {
            padding: 0 0 2em 0;
          }

          .tablePreview table td,
          .tablePreview table th
          {
            -webkit-text-size-adjust:100%;
            -moz-text-size-adjust:100%;
            -ms-text-size-adjust:100%;
          }
        }

        @media (max-width:620px)
        {
          .card
          {
            width: 100%;
            height: 150px;
            margin: 1em 0;
          }

          .cardBody
          {
            height: 45px;
          }

          .closeButton
          {
            top: 100px;
            right: 20px;
          }

          .datasetInfo
          {
            top: 100px;
            left: 20px;
            right: 20px;
          }
        }

        @media (max-height:450px)
        {
          .scriptGithub iframe
          {
            height: 90vh;
          }
        }
        </style>
    </head>
    <body>
        <div class="container">
            <header class="header">
                <nav>
                    <a href="index.html"><img src="https://www.trafforddatalab.io/assets/logo/trafforddatalab_logo.svg" alt="Trafford Data Lab" width="93" class="traffordDataLabLogo"/></a>
                    <ul class="navbar noBulletPoints">
                        <li class="menuItem"><a href="projects.html">Projects</a></li>
                        <li class="menuItem"><a href="data.html">Data</a></li>
                        <li class="menuItem"><a href="learning.html">Learning</a></li>
                        <li class="menuItem"><a href="about.html">About</a></li>
                    </ul>
                </nav>
            </header>

            <main class="main">
                <h1>Data</h1>
                <p>We are committed to the sourcing, preparation and publication of open data. We aim to ensure that all the open data we publish has a minimum <a href="http://5stardata.info/en/#by-example">3-star openness rating</a>. Our data must be accessible on the Web in a machine readable non-proprietary format with a licence that permits anyone to reuse it.</p>
                <p>Click on the data cards below to reveal information about the data (metadata) and preview it in maps and tables. The datasets can also be found on our dedicated repository on <a href="https://github.com/traffordDataLab/open_data">GitHub</a>.</p>

                <div class="card">
                    <input id="cctv" type="checkbox" aria-labelledby="cctvHeaderLabel cctvCloseLabel"/>
                    <label id="cctvHeaderLabel" for="cctv" class="cardHead" onclick="loadPreview([this,'open_data/master/cctv/trafford_cctv_cameras.geojson','open_data/cctv/trafford_cctv_cameras.csv'])">CCTV cameras</label>
                    <div class="datasetInfo">
                        <label id="cctvCloseLabel" for="cctv" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                    	<td>Dataset name</td>
                                    	<td>CCTV</td>
                                    </tr>
                                    <tr>
                                    	<td>Dataset description</td>
                                    	<td>Locations of Local Authority controlled Closed-Circuit Television (CCTV) cameras in Trafford.</td>
                                    </tr>
                                    <tr>
                                    	<td>Source</td>
                                    	<td>Trafford Council</td>
                                    </tr>
                                    <tr>
                                    	<td>Publisher</td>
                                    	<td>Trafford Council</td>
                                    </tr>
                                    <tr>
                                    	<td>Publisher URL</td>
                                    	<td><a href="https://www.trafforddatalab.io/open_data/cctv">https://www.trafforddatalab.io/open_data/cctv</a></td>
                                    </tr>
                                    <tr>
                                    	<td>Geography</td>
                                    	<td>Local authority</td>
                                    </tr>
                                    <tr>
                                    	<td>Geographic coverage</td>
                                    	<td>Trafford</td>
                                    </tr>
                                    <tr>
                                    	<td>Temporal coverage</td>
                                    	<td>Correct as of May 2018</td>
                                    </tr>
                                    <tr>
                                    	<td>Update frequency</td>
                                    	<td>Unknown</td>
                                    </tr>
                                    <tr>
                                    	<td>Licence</td>
                                    	<td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a></td>
                                    </tr>
                                    <tr>
                                    	<td>Attribution</td>
                                    	<td></td>
                                    </tr>
                                    <tr>
                                    	<td>Format</td>
                                    	<td>GeoJSON, CSV</td>
                                    </tr>
                                    <tr>
                                    	<td>Openness rating</td>
                                    	<td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                    	<td>Last updated</td>
                                    	<td>May 2018</td>
                                    </tr>
                                    <tr>
                                    	<td>Notes</td>
                                    	<td></td>
                                    </tr>
                                    <tr>
                                    	<td>Lab visualisation</td>
                                    	<td>View data within the Lab's <a href="https://www.trafforddatalab.io/maps/explore/index.html?dataset=cctv">Explore application</a>.</td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/open_data/cctv/trafford_cctv_cameras.csv" download>CSV <span class="fas fa-download"></span></a><a class="labButton" href="https://www.trafforddatalab.io/open_data/cctv/trafford_cctv_cameras.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <noscript>
                                <img src="https://www.trafforddatalab.io/open_data/cctv/thumbnail.png">
                            </noscript>
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Locations of Local Authority controlled Closed-Circuit Television (CCTV) cameras in Trafford.</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/open_data/cctv/trafford_cctv_cameras.csv" download>CSV <span class="fas fa-download"></span></a><a class="labButton" href="https://www.trafforddatalab.io/open_data/cctv/trafford_cctv_cameras.geojson" download>GeoJSON <span class="fas fa-download"></span></a></p>
                </div>

                <div class="card">
                    <input id="grants" type="checkbox" aria-labelledby="grantsHeaderLabel grantsCloseLabel"/>
                    <label id="grantsHeaderLabel" for="grants" class="cardHead" onclick="loadPreview([this,'open_data/grants/trafford_council_voluntary_sector_grants_360_giving_format.csv'])">Grants</label>
                    <div class="datasetInfo">
                        <label id="grantsCloseLabel" for="grants" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Dataset name</td>
                                        <td>Grants</td>
                                    </tr>
                                    <tr>
                                        <td>Dataset description</td>
                                        <td>Grants allocated by Trafford Council via Trafford Partnership</td>
                                    </tr>
                                    <tr>
                                        <td>Source</td>
                                        <td>Trafford Council</td>
                                    </tr>
                                    <tr>
                                        <td>Publisher</td>
                                        <td>Trafford Council</td>
                                    </tr>
                                    <tr>
                                        <td>Publisher URL</td>
                                        <td><a href="https://github.com/traffordDataLab/open_data/tree/master/grants">https://github.com/traffordDataLab/open_data/tree/master/grants</a></td>
                                    </tr>
                                    <tr>
                                        <td>Geography</td>
                                        <td>Local authority</td>
                                    </tr>
                                    <tr>
                                        <td>Geographic coverage</td>
                                        <td>Trafford borough</td>
                                    </tr>
                                    <tr>
                                        <td>Temporal coverage</td>
                                        <td>2013 - 2017</td>
                                    </tr>
                                    <tr>
                                        <td>Update frequency</td>
                                        <td>Regularly</td>
                                    </tr>
                                    <tr>
                                        <td>Licence</td>
                                        <td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a></td>
                                    </tr>
                                    <tr>
                                        <td>Format</td>
                                        <td>CSV, JSON</td>
                                    </tr>
                                    <tr>
                                        <td>Openness rating</td>
                                        <td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                        <td>Last updated</td>
                                        <td>November 2017</td>
                                    </tr>
                                    <tr>
                                        <td>Notes</td>
                                        <td>The data are also available to view on <a href="http://grantnav.threesixtygiving.org/funder/GB-LAE-TRF">GrantNav</a></td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/open_data/grants/trafford_council_voluntary_sector_grants_360_giving_format.csv" download>CSV <span class="fas fa-download"></span></a><a class="labButton" href="https://www.trafforddatalab.io/open_data/grants/trafford_council_voluntary_sector_grants_360_giving_format.json" download>JSON <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Grants allocated by Trafford Council via Trafford Partnership</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/open_data/grants/trafford_council_voluntary_sector_grants_360_giving_format.csv" download>CSV <span class="fas fa-download"></span></a></p>
                </div>

                <div class="card">
                    <input id="localElections" type="checkbox" aria-labelledby="localElectionsHeaderLabel localElectionsCloseLabel"/>
                    <label id="localElectionsHeaderLabel" for="localElections" class="cardHead" onclick="loadPreview([this,'open_data/master/elections/trafford_council_election_results.csv','open_data/elections/trafford_council_election_results.csv'])">Local election results</label>
                    <div class="datasetInfo">
                        <label id="localElectionsCloseLabel" for="localElections" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                            	        <td>Dataset name</td>
                            	        <td>Trafford Council local election results.</td>
                                    </tr>
                                    <tr>
                            	        <td>Dataset description</td>
                            	        <td>Results from Trafford council local elections/by-elections from 2016 onwards</td>
                                    </tr>
                                    <tr>
                            	        <td>Source</td>
                            	        <td>Trafford Council</td>
                                    </tr>
                                    <tr>
                            	        <td>Publisher</td>
                            	        <td>Trafford Council</td>
                                    </tr>
                                    <tr>
                            	        <td>Publisher URL</td>
                            	        <td>https://www.trafford.gov.uk/about-your-council/elections/election-results.aspx</td>
                                    </tr>
                                    <tr>
                            	        <td>Geography</td>
                            	        <td>Local authority</td>
                                    </tr>
                                    <tr>
                            	        <td>Geographic coverage</td>
                            	        <td>Trafford</td>
                                    </tr>
                                    <tr>
                            	        <td>Temporal coverage</td>
                                    	<td>2016 onwards</td>
                                    </tr>
                                    <tr>
                                    	<td>Update frequency</td>
                                    	<td>Following a local election/by-election</td>
                                    </tr>
                                    <tr>
                                    	<td>Licence</td>
                                    	<td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a></td>
                                    </tr>
                                    <tr>
                                    	<td>Attribution</td>
                                    	<td>Trafford Council</td>
                                    </tr>
                                    <tr>
                                    	<td>Format</td>
                                    	<td>CSV</td>
                                    </tr>
                                    <tr>
                                    	<td>Openness rating</td>
                                    	<td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                    	<td>Last updated</td>
                                    	<td>2019-07-09</td>
                                    </tr>
                                    <tr>
                                    	<td>Notes</td>
                                    	<td>Conforms to the specification described in the <a href="http://e-sd.org/vgTJ3">local transparency guidance - publishing elections results data</a> document by the Local Government Association. Validated using the <a href="https://validator.opendata.esd.org.uk/electionresults">Local Government Association data validator tool</a> on 2019-07-09.</td>
                                    </tr>
                                    <tr>
                                    	<td>Lab visualisation</td>
                                    	<td>Visualisations and analysis can be found in our <a href="https://github.com/traffordDataLab/analysis/tree/master/local_election">analysis repo</a>.</td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/open_data/elections/trafford_council_election_results.csv" download>CSV <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <noscript>
                                <img src="https://www.trafforddatalab.io/open_data/cctv/thumbnail.png">
                            </noscript>
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Results from Trafford council local elections/by-elections from 2016 onwards.</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/open_data/elections/trafford_council_election_results.csv" download>CSV <span class="fas fa-download"></span></a></p>
                </div>

                <div class="card">
                    <input id="postcodes" type="checkbox" aria-labelledby="postcodesHeaderLabel postcodesCloseLabel"/>
                    <label id="postcodesHeaderLabel" for="postcodes" class="cardHead" onclick="loadPreview([this,'spatial_data/postcodes/trafford_postcodes.csv'])">Postcodes</label>
                    <div class="datasetInfo">
                        <label id="postcodesCloseLabel" for="postcodes" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                  	    <td>Dataset name</td>
                                  	    <td>Postcodes</td>
                                    </tr>
                                    <tr>
                                  	    <td>Dataset description</td>
                                  	    <td>Postcode list for Trafford</td>
                                    </tr>
                                    <tr>
                                  	    <td>Source</td>
                                  	    <td>ONS Open Geography Portal</td>
                                    </tr>
                                    <tr>
                                  	    <td>Publisher</td>
                                  	    <td>Office for National Statistics (ONS)</td>
                                    </tr>
                                    <tr>
                                  	    <td>Publisher URL</td>
                                  	    <td><a href="http://geoportal.statistics.gov.uk/datasets/ons-postcode-directory-latest-centroids">http://geoportal.statistics.gov.uk/datasets/ons-postcode-directory-latest-centroids</a></td>
                                    </tr>
                                    <tr>
                                  	    <td>Geography</td>
                                  	    <td>Local Authority</td>
                                    </tr>
                                    <tr>
                                  	    <td>Geographic coverage</td>
                                  	    <td>Trafford</td>
                                    </tr>
                                    <tr>
                                  	    <td>Temporal coverage</td>
                                  	    <td>February 2019</td>
                                    </tr>
                                    <tr>
                                  	    <td>Update frequency</td>
                                  	    <td>Not known</td>
                                    </tr>
                                    <tr>
                                  	    <td>Licence</td>
                                  	    <td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence 3.0</a> ; <a href="https://www.openstreetmap.org/copyright">Open Data Commons Open Database License (ODbL)</a></td>
                                    </tr>
                                    <tr>
                                  	    <td>Attribution</td>
                                  	    <td>ONS Geography Open Data. Shared by: ONSGeography_data. Data Source: <a href="https://ons-inspire.esriuk.com/arcgis/rest/services/Postcodes/ONS_Postcode_Directory_Latest_Centroids/MapServer/0">ons-inspire.esriuk.com</a></td>
                                    </tr>
                                    <tr>
                                  	    <td>Format</td>
                                  	    <td>CSV</td>
                                    </tr>
                                    <tr>
                                  	    <td>Openness rating</td>
                                  	    <td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                  	    <td>Last updated</td>
                                  	    <td>2019-05-08</td>
                                    </tr>
                                    <tr>
                                  	    <td>Notes</td>
                                  	    <td>Postcodes for a particular ward within Greater Manchester can be downloaded via our dedicated <a href="https://trafforddatalab.shinyapps.io/postcode_loader/">Postcode Loader</a> app. These are queried from the API provided by the Office for National Statistics so is always the latest data available.</td>
                                    </tr>
                                    <tr>
                                  	    <td>Lab visualisation</td>
                                  	    <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/spatial_data/postcodes/trafford_postcodes.csv" download>CSV <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Postcode list for Trafford</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/spatial_data/postcodes/trafford_postcodes.csv" download>CSV <span class="fas fa-download"></span></a></p>
                </div>

                <div class="card">
                    <input id="traffordOa" type="checkbox" aria-labelledby="traffordOaHeaderLabel traffordOaCloseLabel"/>
                    <label id="traffordOaHeaderLabel" for="traffordOa" class="cardHead" onclick="loadPreview([this,'spatial_data/master/oa/2011/trafford_oa_generalised.geojson'])">Trafford OAs</label>
                    <div class="datasetInfo">
                        <label id="traffordOaCloseLabel" for="traffordOa" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Dataset name</td>
                                        <td>Trafford OAs</td>
                                    </tr>
                                    <tr>
                                        <td>Dataset description</td>
                                        <td>Generalised boundaries of Trafford's OAs</td>
                                    </tr>
                                    <tr>
                                        <td>Source</td>
                                        <td>ONS</td>
                                    </tr>
                                    <tr>
                                        <td>Publisher</td>
                                        <td>ONS</td>
                                    </tr>
                                    <tr>
                                        <td>Publisher URL</td>
                                        <td><a href="http://geoportal.statistics.gov.uk">http://geoportal.statistics.gov.uk</a></td>
                                    </tr>
                                    <tr>
                                        <td>Geography</td>
                                        <td>Output Areas</td>
                                    </tr>
                                    <tr>
                                        <td>Geographic coverage</td>
                                        <td>Trafford</td>
                                    </tr>
                                    <tr>
                                        <td>Temporal coverage</td>
                                        <td>2011</td>
                                    </tr>
                                    <tr>
                                        <td>Update frequency</td>
                                        <td>Unknown</td>
                                    </tr>
                                    <tr>
                                        <td>Licence</td>
                                        <td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a></td>
                                    </tr>
                                    <tr>
                                        <td>Attribution</td>
                                        <td>Contains OS data © Crown copyright and database right [2019]</td>
                                    </tr>
                                    <tr>
                                        <td>Format</td>
                                        <td>GeoJSON</td>
                                    </tr>
                                    <tr>
                                        <td>Openness rating</td>
                                        <td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                        <td>Last updated</td>
                                        <td>Oct 2019</td>
                                    </tr>
                                    <tr>
                                        <td>Notes</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Lab visualisation</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/spatial_data/oa/2011/trafford_oa_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Boundaries of Trafford's OAs</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/spatial_data/oa/2011/trafford_oa_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                </div>

                <div class="card">
                    <input id="traffordLsoa" type="checkbox" aria-labelledby="traffordLsoaHeaderLabel traffordLsoaCloseLabel"/>
                    <label id="traffordLsoaHeaderLabel" for="traffordLsoa" class="cardHead" onclick="loadPreview([this,'spatial_data/master/lsoa/2011/trafford_lsoa_generalised.geojson'])">Trafford LSOAs</label>
                    <div class="datasetInfo">
                        <label id="traffordLsoaCloseLabel" for="traffordLsoa" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Dataset name</td>
                                        <td>Trafford LSOAs</td>
                                    </tr>
                                    <tr>
                                        <td>Dataset description</td>
                                        <td>Generalised boundaries of Trafford's LSOAs</td>
                                    </tr>
                                    <tr>
                                        <td>Source</td>
                                        <td>ONS</td>
                                    </tr>
                                    <tr>
                                        <td>Publisher</td>
                                        <td>ONS</td>
                                    </tr>
                                    <tr>
                                        <td>Publisher URL</td>
                                        <td><a href="http://geoportal.statistics.gov.uk">http://geoportal.statistics.gov.uk</a></td>
                                    </tr>
                                    <tr>
                                        <td>Geography</td>
                                        <td>Lower Layer Super Output Areas</td>
                                    </tr>
                                    <tr>
                                        <td>Geographic coverage</td>
                                        <td>Trafford</td>
                                    </tr>
                                    <tr>
                                        <td>Temporal coverage</td>
                                        <td>2011</td>
                                    </tr>
                                    <tr>
                                        <td>Update frequency</td>
                                        <td>Unknown</td>
                                    </tr>
                                    <tr>
                                        <td>Licence</td>
                                        <td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a></td>
                                    </tr>
                                    <tr>
                                        <td>Attribution</td>
                                        <td>Contains OS data © Crown copyright and database right [2019]</td>
                                    </tr>
                                    <tr>
                                        <td>Format</td>
                                        <td>GeoJSON</td>
                                    </tr>
                                    <tr>
                                        <td>Openness rating</td>
                                        <td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                        <td>Last updated</td>
                                        <td>Oct 2019</td>
                                    </tr>
                                    <tr>
                                        <td>Notes</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Lab visualisation</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/spatial_data/lsoa/2011/trafford_lsoa_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Boundaries of Trafford's LSOAs</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/spatial_data/lsoa/2011/trafford_lsoa_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                </div>

                <div class="card">
                    <input id="traffordMsoa" type="checkbox" aria-labelledby="traffordMsoaHeaderLabel traffordMsoaCloseLabel"/>
                    <label id="traffordMsoaHeaderLabel" for="traffordMsoa" class="cardHead" onclick="loadPreview([this,'spatial_data/master/msoa/2011/trafford_msoa_generalised.geojson'])">Trafford MSOAs</label>
                    <div class="datasetInfo">
                        <label id="traffordMsoaCloseLabel" for="traffordMsoa" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                      <td>Dataset name</td>
                                      <td>Trafford MSOAs</td>
                                    </tr>
                                    <tr>
                                      <td>Dataset description</td>
                                      <td>Generalised boundaries of Trafford's MSOAs</td>
                                    </tr>
                                    <tr>
                                      <td>Source</td>
                                      <td>ONS</td>
                                    </tr>
                                    <tr>
                                      <td>Publisher</td>
                                      <td>ONS</td>
                                    </tr>
                                    <tr>
                                      <td>Publisher URL</td>
                                      <td><a href="http://geoportal.statistics.gov.uk">http://geoportal.statistics.gov.uk</a></td>
                                    </tr>
                                    <tr>
                                      <td>Geography</td>
                                      <td>Middle Layer Super Output Areas</td>
                                    </tr>
                                    <tr>
                                      <td>Geographic coverage</td>
                                      <td>Trafford</td>
                                    </tr>
                                    <tr>
                                      <td>Temporal coverage</td>
                                      <td>2011</td>
                                    </tr>
                                    <tr>
                                      <td>Update frequency</td>
                                      <td>Unknown</td>
                                    </tr>
                                    <tr>
                                      <td>Licence</td>
                                      <td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a></td>
                                    </tr>
                                    <tr>
                                      <td>Attribution</td>
                                      <td>Contains OS data © Crown copyright and database right [2019]</td>
                                    </tr>
                                    <tr>
                                      <td>Format</td>
                                      <td>GeoJSON</td>
                                    </tr>
                                    <tr>
                                      <td>Openness rating</td>
                                      <td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                      <td>Last updated</td>
                                      <td>Oct 2019</td>
                                    </tr>
                                    <tr>
                                      <td>Notes</td>
                                      <td></td>
                                    </tr>
                                    <tr>
                                      <td>Lab visualisation</td>
                                      <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/spatial_data/msoa/2011/trafford_msoa_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Boundaries of Trafford's MSOAs</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/spatial_data/msoa/2011/trafford_msoa_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                </div>

                <div class="card">
                    <input id="traffordWard" type="checkbox" aria-labelledby="traffordWardHeaderLabel traffordWardCloseLabel"/>
                    <label id="traffordWardHeaderLabel" for="traffordWard" class="cardHead" onclick="loadPreview([this,'spatial_data/master/ward/2017/trafford_ward_generalised.geojson'])">Trafford wards</label>
                    <div class="datasetInfo">
                        <label id="traffordWardCloseLabel" for="traffordWard" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Dataset name</td>
                                        <td>Trafford wards</td>
                                    </tr>
                                    <tr>
                                        <td>Dataset description</td>
                                        <td>Generalised boundaries of Trafford's wards</td>
                                    </tr>
                                    <tr>
                                        <td>Source</td>
                                        <td>ONS</td>
                                    </tr>
                                    <tr>
                                        <td>Publisher</td>
                                        <td>ONS</td>
                                    </tr>
                                    <tr>
                                        <td>Publisher URL</td>
                                        <td><a href="http://geoportal.statistics.gov.uk">http://geoportal.statistics.gov.uk</a></td>
                                    </tr>
                                    <tr>
                                        <td>Geography</td>
                                        <td>Wards</td>
                                    </tr>
                                    <tr>
                                        <td>Geographic coverage</td>
                                        <td>Trafford</td>
                                    </tr>
                                    <tr>
                                        <td>Temporal coverage</td>
                                        <td>2017</td>
                                    </tr>
                                    <tr>
                                        <td>Update frequency</td>
                                        <td>Unknown</td>
                                    </tr>
                                    <tr>
                                        <td>Licence</td>
                                        <td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a></td>
                                    </tr>
                                    <tr>
                                        <td>Attribution</td>
                                        <td>Contains OS data © Crown copyright and database right [2019]</td>
                                    </tr>
                                    <tr>
                                        <td>Format</td>
                                        <td>GeoJSON</td>
                                    </tr>
                                    <tr>
                                        <td>Openness rating</td>
                                        <td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                        <td>Last updated</td>
                                        <td>Oct 2019</td>
                                    </tr>
                                    <tr>
                                        <td>Notes</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Lab visualisation</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/spatial_data/ward/2017/trafford_ward_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Boundaries of Trafford's wards</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/spatial_data/ward/2017/trafford_ward_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                </div>

                <div class="card">
                    <input id="traffordBoundary" type="checkbox" aria-labelledby="traffordBoundaryHeaderLabel traffordBoundaryCloseLabel"/>
                    <label id="traffordBoundaryHeaderLabel" for="traffordBoundary" class="cardHead" onclick="loadPreview([this,'spatial_data/master/local_authority/2016/trafford_local_authority_generalised.geojson'])">Trafford boundary</label>
                    <div class="datasetInfo">
                        <label id="traffordBoundaryCloseLabel" for="traffordBoundary" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                      <td>Dataset name</td>
                                      <td>Trafford boundary</td>
                                    </tr>
                                    <tr>
                                      <td>Dataset description</td>
                                      <td>Trafford generalised boundary</td>
                                    </tr>
                                    <tr>
                                      <td>Source</td>
                                      <td>ONS</td>
                                    </tr>
                                    <tr>
                                      <td>Publisher</td>
                                      <td>ONS</td>
                                    </tr>
                                    <tr>
                                      <td>Publisher URL</td>
                                      <td><a href="http://geoportal.statistics.gov.uk">http://geoportal.statistics.gov.uk</a></td>
                                    </tr>
                                    <tr>
                                      <td>Geography</td>
                                      <td>Local authority</td>
                                    </tr>
                                    <tr>
                                      <td>Geographic coverage</td>
                                      <td>Trafford</td>
                                    </tr>
                                    <tr>
                                      <td>Temporal coverage</td>
                                      <td>2016</td>
                                    </tr>
                                    <tr>
                                      <td>Update frequency</td>
                                      <td>Unknown</td>
                                    </tr>
                                    <tr>
                                      <td>Licence</td>
                                      <td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a></td>
                                    </tr>
                                    <tr>
                                      <td>Attribution</td>
                                      <td>Contains OS data © Crown copyright and database right [2019]</td>
                                    </tr>
                                    <tr>
                                      <td>Format</td>
                                      <td>GeoJSON</td>
                                    </tr>
                                    <tr>
                                      <td>Openness rating</td>
                                      <td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                      <td>Last updated</td>
                                      <td>Oct 2019</td>
                                    </tr>
                                    <tr>
                                      <td>Notes</td>
                                      <td></td>
                                    </tr>
                                    <tr>
                                      <td>Lab visualisation</td>
                                      <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/spatial_data/local_authority/2016/trafford_local_authority_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Trafford boundary</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/spatial_data/local_authority/2016/trafford_local_authority_generalised.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                </div>

                <div class="card">
                    <input id="traffordLocalities" type="checkbox" aria-labelledby="traffordLocalitiesHeaderLabel traffordLocalitiesCloseLabel"/>
                    <label id="traffordLocalitiesHeaderLabel" for="traffordLocalities" class="cardHead" onclick="loadPreview([this,'spatial_data/master/council_defined/trafford_localities.geojson'])">Trafford localities</label>
                    <div class="datasetInfo">
                        <label id="traffordLocalitiesCloseLabel" for="traffordLocalities" class="fas fa-times closeButton" onclick="removePreviews(this)"><span class="hideContent">close preview</span></label>
                        <div class="tableFrame">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data property</th>
                                        <th>Data value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                      <td>Dataset name</td>
                                      <td>Trafford localities</td>
                                    </tr>
                                    <tr>
                                      <td>Dataset description</td>
                                      <td>Boundaries of the four Trafford's localities</td>
                                    </tr>
                                    <tr>
                                      <td>Source</td>
                                      <td>Trafford Council</td>
                                    </tr>
                                    <tr>
                                      <td>Publisher</td>
                                      <td>Trafford Council</td>
                                    </tr>
                                    <tr>
                                      <td>Publisher URL</td>
                                      <td><a href="https://www.trafforddatalab.io/spatial_data/council_defined/trafford_localities">https://www.trafforddatalab.io/spatial_data/council_defined/trafford_localities</a></td>
                                    </tr>
                                    <tr>
                                      <td>Geography</td>
                                      <td>Local authority</td>
                                    </tr>
                                    <tr>
                                      <td>Geographic coverage</td>
                                      <td>Trafford</td>
                                    </tr>
                                    <tr>
                                      <td>Temporal coverage</td>
                                      <td>2019</td>
                                    </tr>
                                    <tr>
                                      <td>Update frequency</td>
                                      <td>Unknown</td>
                                    </tr>
                                    <tr>
                                      <td>Licence</td>
                                      <td><a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence</a></td>
                                    </tr>
                                    <tr>
                                      <td>Attribution</td>
                                      <td></td>
                                    </tr>
                                    <tr>
                                      <td>Format</td>
                                      <td>GeoJSON</td>
                                    </tr>
                                    <tr>
                                      <td>Openness rating</td>
                                      <td>&#9733&#9733&#9733&#9734&#9734&nbsp; Structured data in open format (e.g. CSV)</td>
                                    </tr>
                                    <tr>
                                      <td>Last updated</td>
                                      <td>Jan 2019</td>
                                    </tr>
                                    <tr>
                                      <td>Notes</td>
                                      <td></td>
                                    </tr>
                                    <tr>
                                      <td>Lab visualisation</td>
                                      <td></td>
                                    </tr>
                                </tbody>
                            </table>
                            <a class="labButton" href="https://www.trafforddatalab.io/spatial_data/council_defined/trafford_localities.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                        </div>
                        <div class="prevGeoJson">
                            <div class="scriptGithub"></div>
                            <div class="tablePreview"></div>
                        </div>
                    </div>
                    <p class="cardBody">Boundaries of the four Trafford's localities</p>
                    <p class="cardFooter"><a class="labButton" href="https://www.trafforddatalab.io/spatial_data/council_defined/trafford_localities.geojson" download>GeoJSON <span class="fas fa-download"></span></a>
                </div>
            </main>

            <footer class="footer">
                <div class="leftFooter">
                    <div class="logoMedia">
                        <span class="hideContent">Visit us on </span>
                        <a class="linkMedia" href="https://twitter.com/traffordDataLab" target="_blank"><span class="fab fa-twitter-square" aria-label="Trafford Data Lab on Twitter"></span><span class="hideContent">Twitter</span></a>
                        <span class="hideContent">, </span>
                        <a class="linkMedia" href="https://github.com/traffordDataLab" target="_blank"><span class="fab fa-github" aria-label="Trafford Data Lab on GitHub"></span><span class="hideContent">GitHub</span></a>
                        <span class="hideContent"> and </span>
                        <a class="linkMedia" href="https://medium.com/@traffordDataLab" target="_blank"><span class="fab fa-medium" aria-label="Trafford Data Lab on Medium"></span><span class="hideContent">Medium<br /></span></a>
                    </div>
                    <div class="license">Code <a class="footerLink" href="LICENSE.txt" target="_blank">licensed</a> under MIT, data under OGL</div>
                </div>
                <div class="rightFooter">
                    <a href="https://www.trafford.gov.uk" target="_blank"><img class="logoTrafford" src="images/trafford_council_logo_black_on_white_100px.png" alt="Trafford Council"/></a>
                </div>
            </footer>
        </div>

        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script>
        function loadPreview(arrayPaths){
          var el=arrayPaths[0];
          for (i = 1; i < arrayPaths.length; i++) {
            var geo=/.geojson/
            var csvF=/.csv/
            if (geo.test(arrayPaths[i])){
              var pathMap="https://render.githubusercontent.com/view/geojson?url=https://raw.githubusercontent.com/traffordDataLab/"+ arrayPaths[i];
              loadMap(el,pathMap);
            }else if (csvF.test(arrayPaths[i])){
              var pathTable="https://www.trafforddatalab.io/" + arrayPaths[i];
              loadTable(el,pathTable);
            }
          }
        }

        function loadMap(el,pathMap){
          var ifr=document.createElement("iframe");
          ifr.setAttribute("frameborder", "0");
          ifr.setAttribute("src", pathMap);
          try{
          el.parentNode.getElementsByClassName("scriptGithub")[0].appendChild(ifr);
          }
          catch(error){
            console.log(error+"error")
          }
        }

        function loadTable(el,pathTable){

          d3.csv(pathTable, function(error, data) {
            if (error) throw error;

            var divTable=el.parentNode.getElementsByClassName("tablePreview")[0];
            divTable.style.border = "1px solid #cccccc";
            var isMap=el.parentNode.getElementsByTagName("iframe")[0];
            if (isMap){
              var data=data.slice(1,4);
            }
            else {
              var data=data.slice(1,20);
            }

            var colNames=Object.keys(data[1]);
            var tableHeader=document.createElement("thead");
            var headRow = document.createElement("tr")
            var arrayLength = colNames.length;
            for (var i = 0; i < arrayLength; i++) {
              var colName = document.createElement("th");
              var thText = document.createTextNode(colNames[i]);
              colName.appendChild(thText);
              headRow.appendChild(colName);
            }

            tableHeader.appendChild(headRow);
            var table=document.createElement("table");
            table.appendChild(tableHeader);

            var dataLength = data.length;
            for (var i = 0; i < dataLength; i++) {
              var tableRow = document.createElement("tr");
              for (var j = 0; j < arrayLength; j++) {
                var tableCell = document.createElement("td");
                var tdText = document.createTextNode(data[i][colNames[j]]);
                tableCell.appendChild(tdText);
                tableRow.appendChild(tableCell);
              }
              table.appendChild(tableRow);
            }

            divTable.appendChild(table);
          })
        }

        function removePreviews(el){
          var iframeDiv=el.parentNode.getElementsByClassName("scriptGithub")[0];
          var iframeNode=iframeDiv.getElementsByTagName("iframe")[0];
          if (iframeNode){
            iframeDiv.removeChild(iframeNode);
          }

          var tableDiv=el.parentNode.getElementsByClassName("tablePreview")[0];
          tableDiv.style.borderStyle = "none";
          var tableNode=tableDiv.getElementsByTagName("table")[0];
          if (tableNode){
            tableDiv.removeChild(tableNode);
          }
        }

        </script>
    </body>
</html>
